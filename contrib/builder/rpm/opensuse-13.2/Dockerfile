#
# THIS FILE IS AUTOGENERATED; SEE "contrib/builder/rpm/generate.sh"!
#

FROM opensuse:13.2

ENV DOCKER_CROSSPLATFORMS \
        linux/386 linux/arm \
        darwin/amd64 \
        freebsd/amd64 freebsd/386 freebsd/arm \
        windows/amd64 windows/386

ENV GOARM 5

RUN zypper --non-interactive install ca-certificates* curl git gzip rpm-build
RUN zypper --non-interactive install audit-devel libbtrfs-devel device-mapper-devel glibc-devel-static  libselinux-devel libtool selinux-policy selinux-policy-devel sqlite3-devel tar

ENV GO_VERSION 1.5.3
RUN curl -fSL "https://storage.googleapis.com/golang/go${GO_VERSION}.linux-amd64.tar.gz" | tar xzC /usr/local
ENV PATH /usr/local/go/bin:$PATH

ENV GOPATH /go:/go/src/github.com/docker/docker/vendor

ENV DOCKER_BUILDTAGS selinux

WORKDIR /go/src/github.com/docker/docker

COPY . /go/src/github.com/docker/docker
